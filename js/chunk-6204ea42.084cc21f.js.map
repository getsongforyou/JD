{"version":3,"sources":["webpack:///./src/components/Toast.vue","webpack:///./src/components/Toast.vue?329c","webpack:///./src/views/login/Login.vue?6f87","webpack:///./src/views/login/Login.vue","webpack:///./src/views/login/Login.vue?9c35","webpack:///./src/components/Toast.vue?be07"],"names":["class","_createElementBlock","_toDisplayString","$props","props","name","showToastEffect","toastData","reactive","isShow","toastMessage","showToast","message","setTimeout","toRefs","__exports__","render","_createElementVNode","src","alt","href","_hoisted_2","type","placeholder","$setup","$event","onClick","_hoisted_6","_hoisted_7","_createBlock","_component_Toast","userLoginEffect","data","phone","password","router","useRouter","handleLogin","post","result","code","localStorage","setItem","push","userRegisterEffect","handleRegister","components","Toast","setup"],"mappings":"uKACOA,MAAM,S,gDAAXC,eAAsC,MAAtC,EAAsCC,eAAhBC,WAAO,GAIhB,OACbC,MAAO,CAAC,WACRC,KAAM,SAGKC,EAAkB,WAC7B,IAAMC,EAAYC,eAAS,CACzBC,QAAQ,EACRC,aAAc,KAEVC,EAAY,SAACC,GACjBL,EAAUE,QAAS,EACnBF,EAAUG,aAAeE,EACzBC,YAAW,WACTN,EAAUE,QAAS,EACnBF,EAAUG,aAAe,KACxB,MAEL,EAAiCI,eAAOP,GAAhCE,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,aAChB,MAAO,CAAED,SAAQC,eAAcC,c,iCCjBjC,MAAMI,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,U,oFCTf,W,6ICCOhB,MAAM,a,uBACTiB,eAMM,OANDjB,MAAM,uBAAqB,CAC9BiB,eAIE,OAHAC,IAAI,8EACJC,IAAI,GACJnB,MAAM,+BAJV,M,GAOKA,MAAM,oB,GAcNA,MAAM,qB,GAGNA,MAAM,sB,uBAOTiB,eAAgD,QAA1CjB,MAAM,2BAA0B,OAAG,M,uBACzCiB,eAA6D,KAA1DG,KAAK,eAAepB,MAAM,yBAAwB,QAAI,M,0GAjC7DiB,eAmCM,MAnCN,EAmCM,CAlCJI,EAOAJ,eAaM,MAbN,EAaM,gBAZJA,eAKE,SAJAK,KAAK,OACLtB,MAAM,6BACNuB,YAAY,S,qDACHC,QAAKC,KAJhB,mBAIWD,WAQP,eANJP,eAKE,SAJAK,KAAK,WACLtB,MAAM,6BACNuB,YAAY,Q,qDACHC,WAAQC,KAJnB,mBAIWD,gBAGbP,eAEM,MAFN,EAEM,CADJA,eAAyE,UAAjEjB,MAAM,2BAA4B0B,QAAK,8BAAEF,mDAAa,QAEhEP,eASM,MATN,EASM,CARJA,eAKC,KAJCG,KAAK,eACLpB,MAAM,wBACL0B,QAAK,8BAAEF,yDACP,QAEHG,EACAC,MAGSJ,2BAAbK,eAAqDC,EAAA,C,MAA/BlB,QAASY,gBAA/B,gD,gEAQIO,EAAkB,SAAUpB,GAChC,IAAMqB,EAAOxB,eAAS,CACpByB,MAAO,GACPC,SAAU,KAENC,EAASC,iBACTC,EAAU,yDAAI,6HAEKC,eAAK,kBAAmB,CAC3CL,MAAOD,EAAKC,MACZC,SAAUF,EAAKE,WAJD,UAEVK,EAFU,OAMG,KAAfP,EAAKC,MANO,uBAOdtB,EAAU,YAPI,6BASa,KAAlBqB,EAAKE,SATA,wBAUdvB,EAAU,WAVI,2BAaS,SAArB4B,EAAOP,KAAKQ,MACdC,aAAaC,QAAQ,UAAW,QAChCP,EAAOQ,KAAK,CAAEtC,KAAM,UAEpBM,EAAU,kBAjBI,qDAoBhBA,EAAU,WApBM,0DAAJ,qDAuBhB,EAA4BG,eAAOkB,GAA3BC,EAAR,EAAQA,MAAOC,EAAf,EAAeA,SACf,MAAO,CAAED,QAAOC,WAAUG,gBAGtBO,EAAqB,WACzB,IAAMT,EAASC,iBACTS,EAAiB,WACrBV,EAAOQ,KAAK,CAAEtC,KAAM,cAEtB,MAAO,CAAEwC,mBAGI,GACbxC,KAAM,QACNyC,WAAY,CAAEC,cACdC,MAHa,WAIX,MAA4C1C,iBAApCG,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,aAAcC,EAA9B,EAA8BA,UAC9B,EAAyCoB,EAAgBpB,GAAjDsB,EAAR,EAAQA,MAAOC,EAAf,EAAeA,SAAUG,EAAzB,EAAyBA,YACzB,EAA2BO,IAAnBC,EAAR,EAAQA,eACR,MAAO,CACLR,cACAQ,iBACApC,SACAC,eACAuB,QACAC,c,iCC5FN,MAAMnB,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB,kCCTf","file":"js/chunk-6204ea42.084cc21f.js","sourcesContent":["<template>\r\n  <div class=\"toast\">{{ message }}</div>\r\n</template>\r\n<script>\r\nimport { reactive, toRefs } from 'vue'\r\nexport default {\r\n  props: ['message'],\r\n  name: 'Toast'\r\n}\r\n// 导出弹窗信息接口\r\nexport const showToastEffect = () => {\r\n  const toastData = reactive({\r\n    isShow: false,\r\n    toastMessage: ''\r\n  })\r\n  const showToast = (message) => {\r\n    toastData.isShow = true\r\n    toastData.toastMessage = message\r\n    setTimeout(() => {\r\n      toastData.isShow = false\r\n      toastData.toastMessage = ''\r\n    }, 2000)\r\n  }\r\n  const { isShow, toastMessage } = toRefs(toastData)\r\n  return { isShow, toastMessage, showToast }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.toast {\r\n  position: fixed;\r\n  left: 50%;\r\n  top: 50%;\r\n  border-radius: 5rem;\r\n  transform: translate(-50%, -50%);\r\n  background-color: rgba(0, 0, 0, 0.35);\r\n  padding: 10rem;\r\n  color: #fff;\r\n  z-index: 22;\r\n}\r\n</style>\r\n","import { render } from \"./Toast.vue?vue&type=template&id=72e8f618&scoped=true\"\nimport script from \"./Toast.vue?vue&type=script&lang=js\"\nexport * from \"./Toast.vue?vue&type=script&lang=js\"\n\nimport \"./Toast.vue?vue&type=style&index=0&id=72e8f618&lang=scss&scoped=true\"\n\nimport exportComponent from \"F:\\\\jd\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-72e8f618\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Login.vue?vue&type=style&index=0&id=11a64aeb&lang=scss&scoped=true\"","<template>\r\n  <div class=\"container\">\r\n    <div class=\"container__protrait\">\r\n      <img\r\n        src=\"https://markdown-1253389072.cos.ap-nanjing.myqcloud.com/202202221429453.png\"\r\n        alt=\"\"\r\n        class=\"container__protrait__img\"\r\n      />\r\n    </div>\r\n    <div class=\"container__input\">\r\n      <input\r\n        type=\"text\"\r\n        class=\"container__input__username\"\r\n        placeholder=\"请输入手机号\"\r\n        v-model=\"phone\"\r\n      />\r\n      <input\r\n        type=\"passowrd\"\r\n        class=\"container__input__password\"\r\n        placeholder=\"请输入密码\"\r\n        v-model=\"password\"\r\n      />\r\n    </div>\r\n    <div class=\"container__button\">\r\n      <button class=\"container__button__login\" @click=\"handleLogin\">登录</button>\r\n    </div>\r\n    <div class=\"container__content\">\r\n      <a\r\n        href=\"javascript:;\"\r\n        class=\"container__content__a\"\r\n        @click=\"handleRegister\"\r\n        >立即注册</a\r\n      >\r\n      <span class=\"container__content__gap\"> | </span>\r\n      <a href=\"javascript:;\" class=\"container__content__a\">忘记密码</a>\r\n    </div>\r\n  </div>\r\n  <Toast v-if=\"isShow\" :message=\"toastMessage\"></Toast>\r\n</template>\r\n<script>\r\nimport { useRouter } from 'vue-router'\r\nimport { reactive, toRefs } from 'vue'\r\nimport { post } from '../../utils/request'\r\nimport Toast, { showToastEffect } from '../../components/Toast.vue'\r\n// 定义用户登录逻辑接口\r\nconst userLoginEffect = function (showToast) {\r\n  const data = reactive({\r\n    phone: '',\r\n    password: ''\r\n  })\r\n  const router = useRouter()\r\n  const handleLogin = async () => {\r\n    try {\r\n      const result = await post('/api/user/login', {\r\n        phone: data.phone,\r\n        password: data.password\r\n      })\r\n      if (data.phone === '') {\r\n        showToast('用户名不能为空！')\r\n        return\r\n      } else if (data.password === '') {\r\n        showToast('密码不能为空！')\r\n        return\r\n      }\r\n      if (result.data.code === '0000') {\r\n        localStorage.setItem('isLogin', 'true')\r\n        router.push({ name: 'Home' })\r\n      } else {\r\n        showToast('登录失败，用户名或密码错误！')\r\n      }\r\n    } catch (error) {\r\n      showToast('发送请求失败！')\r\n    }\r\n  }\r\n  const { phone, password } = toRefs(data)\r\n  return { phone, password, handleLogin }\r\n}\r\n// 定义用户跳转注册逻辑接口\r\nconst userRegisterEffect = () => {\r\n  const router = useRouter()\r\n  const handleRegister = () => {\r\n    router.push({ name: 'Register' })\r\n  }\r\n  return { handleRegister }\r\n}\r\n// 默认导出模块\r\nexport default {\r\n  name: 'Login',\r\n  components: { Toast },\r\n  setup () {\r\n    const { isShow, toastMessage, showToast } = showToastEffect()\r\n    const { phone, password, handleLogin } = userLoginEffect(showToast)\r\n    const { handleRegister } = userRegisterEffect()\r\n    return {\r\n      handleLogin,\r\n      handleRegister,\r\n      isShow,\r\n      toastMessage,\r\n      phone,\r\n      password\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.container {\r\n  &__protrait {\r\n    margin-top: 120rem;\r\n    margin-bottom: 40rem;\r\n    text-align: center;\r\n    &__img {\r\n      width: 66rem;\r\n      height: 66rem;\r\n    }\r\n  }\r\n  &__input {\r\n    margin-bottom: 32rem;\r\n    text-align: center;\r\n    &__username,\r\n    &__password {\r\n      width: 279rem;\r\n      height: 48rem;\r\n      background: #f9f9f9;\r\n      border: 1px solid rgba(0, 0, 0, 0.1);\r\n      border-radius: 6rem;\r\n      margin-bottom: 16rem;\r\n      font-family: PingFangSC-Regular;\r\n      font-size: 16rem;\r\n      color: rgba(0, 0, 0, 0.5);\r\n      letter-spacing: 0;\r\n      line-height: 24rem;\r\n      padding-left: 16rem;\r\n    }\r\n  }\r\n  &__button {\r\n    text-align: center;\r\n    margin-bottom: 16rem;\r\n    &__login {\r\n      width: 295rem;\r\n      height: 48rem;\r\n      background: #0091ff;\r\n      box-shadow: 0 4px 8px 0 rgba(0, 145, 255, 0.32);\r\n      border-radius: 4px;\r\n      font-family: PingFangSC-Regular;\r\n      font-size: 16px;\r\n      color: #ffffff;\r\n      letter-spacing: 0;\r\n      line-height: 24px;\r\n    }\r\n  }\r\n  &__content {\r\n    display: flex;\r\n    margin: 0 auto;\r\n    width: 139px;\r\n    height: 20rem;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    &__a,\r\n    &__gap {\r\n      font-family: PingFangSC-Regular;\r\n      font-size: 14px;\r\n      color: rgba(0, 0, 0, 0.5);\r\n      letter-spacing: 0;\r\n      text-decoration: none;\r\n      -webkit-tap-highlight-color: transparent;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Login.vue?vue&type=template&id=11a64aeb&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=11a64aeb&lang=scss&scoped=true\"\n\nimport exportComponent from \"F:\\\\jd\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-11a64aeb\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Toast.vue?vue&type=style&index=0&id=72e8f618&lang=scss&scoped=true\""],"sourceRoot":""}